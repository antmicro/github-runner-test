on: [push]

name: test

jobs:        
  simpleExample2:
    strategy:
      fail-fast: false
      matrix:
        include:
          - {tag: "bionic"}
          - {tag: "focal"}
          - {tag: "groovy"}
          - {tag: "hirsute"}
    container: ubuntu:${{ matrix.tag }}
    runs-on: [self-hosted, Linux, X64]
    env:
      TEST_STRING: "VERY_COOL_STRING"
      TEST_STRING2: "VERY_COOL_STRING2"
    steps:
    - run: hostname
    - run: printenv
      env:
        TEST_STRING_RUN: "VERY_COOL_STRING3"
    - run: df -h .
    - run: echo $TEST_STRING2 > test.txt
    - run: echo test
    - run: echo test2
    - run: ln -s /root/work/test.txt /root/work/test2.txt
    - run: touch /etc/test && ln -s /etc/test /root/work/test3.txt
    - run: ln -s /root/work/test.txt /root/work/text4.txt
    - run: apt -qqy update && apt -qqy install neofetch iproute2
    - run: ip addr show
    - run: neofetch
    - uses: actions/upload-artifact@v2
      with:
        path: |
          **/*.txt
          **/plot_*.svg
